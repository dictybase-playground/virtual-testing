import { Image, themes } from "mdx-deck"
import { ApolloProvider } from "@apollo/react-hooks"
import { client } from "../src/App"
import InfiniteListContainer from "../src/InfiniteListContainer.tsx"
import IntersectingListContainer from "../src/IntersectingListContainer.tsx"
import current from "./current-catalog.gif"
import virtualCode from "./virtual-code.png"

export const theme = themes.book

# Overview

**1. Background**

2. Core Concepts

3. First Attempt

4. Second Attempt

5. Conclusion?

---

# Background

In the Dicty Stock Center web app, our [catalog pages](https://eric.dictybase.dev/stockcenter/strains) use an infinite scrolling technique to display our full list of stocks.

<Image src={current} height={400} />

---

## Libraries Originally Used

- `react-window`
- `react-window-infinite-loader`
- `react-virtualized-auto-sizer`

---

## Reasons for Change

- More code complexity due to required nested render props patterns
- React has moved to a hooks-based approach
- Increased bundle size (combined > 10kb gzipped)

<center>
  <Image src={virtualCode} height={400} width={329} />
</center>

---

## Possible Solution?

The `react-virtual` hook library seemed promising as a replacement at first, but a
deeper dive showed its own set of problems:

- Very poor documentation
- Little to no unit tests
- Not clear how it actually works internally

---

## The Solution

After reading into how infinite scrolling works, we discovered that it is actually
quite simple in its most basic form.

Why don't we just write our own library?

<center>
  <Image
    src="https://media3.giphy.com/media/1yk367XVPb3oepJEYQ/giphy.gif?cid=ecf05e4751f54d030df3eec57f1f2a2f25edbb300ae59119&rid=giphy.gif"
    height={400}
    width={400}
  />
</center>

---

# Overview

1. Background

**2. Core Concepts**

3. First Attempt

4. Second Attempt

5. Conclusion?
